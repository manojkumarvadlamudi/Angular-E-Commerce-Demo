<header class="top-bar" [class.shrink]="isScrolled">
  <div class="brand">
    <span class="logo">ğŸ›ï¸</span>
    <h1>MiniStore</h1>
  </div>

  <button class="cart-icon" (click)="toggleCart()" aria-label="Cart">
    ğŸ›’
    <span
      class="badge"
      *ngIf="cartCount > 0"
      [class.bounce]="badgeBounce">
      {{ cartCount }}
    </span>
  </button>
</header>

<!-- ================= CART OVERLAY ================= -->
<div
  class="cart-overlay"
  *ngIf="isCartOpen"
  (click)="isCartOpen = false">
</div>

<!-- ================= CART PANEL ================= -->
<div
  class="cart-panel"
  *ngIf="isCartOpen"
  (click)="$event.stopPropagation()">

  <h3>Your Cart</h3>

  <!-- EMPTY -->
  <div class="cart-empty" *ngIf="cart.length === 0">
    <p>ğŸ›’ Your cart is empty</p>
  </div>

  <!-- ITEMS -->
  <div class="cart-item" *ngFor="let item of cart">
    <div class="cart-info">
      <strong>{{ item.name }}</strong>
      <small>â‚¹{{ item.price }} Ã— {{ item.quantity }}</small>
    </div>

    <div class="qty-controls">
      <button (click)="decreaseQty(item)">âˆ’</button>
      <span>{{ item.quantity }}</span>
      <button (click)="increaseQty(item)">+</button>
    </div>
  </div>

  <!-- FOOTER -->
  <div *ngIf="cart.length > 0" class="cart-footer">
    <div class="cart-total">
      <span>Total</span>
      <strong>â‚¹{{ getTotalPrice() }}</strong>
    </div>

    <button
      class="checkout-btn"
      routerLink="/checkout"
      (click)="isCartOpen = false">
      Proceed to Checkout â†’
    </button>
  </div>
</div>

<!-- ================= ROUTER ================= -->
<router-outlet></router-outlet>
